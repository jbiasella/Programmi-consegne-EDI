sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(t){"use strict";return t.extend("sap.ui.demo.fiori2.controller.Detail",{onInit:function(){this.oOwnerComponent=this.getOwnerComponent();this.oRouter=this.oOwnerComponent.getRouter();this.oModel=this.oOwnerComponent.getModel();this.oRouter.getRoute("master").attachPatternMatched(this._onProductMatched,this);this.oRouter.getRoute("detail").attachPatternMatched(this._onProductMatched,this);this.oRouter.getRoute("detailDetail").attachPatternMatched(this._onProductMatched,this)},onSupplierPress:function(t){var e=t.getSource().getBindingContext("products").getPath(),o=e.split("/").slice(-1).pop(),n;this.oOwnerComponent.getHelper().then(function(t){n=t.getNextUIState(2);this.oRouter.navTo("detailDetail",{layout:n.layout,supplier:o,product:this._product})}.bind(this))},_onProductMatched:function(t){debugger;this._product=t.getParameter("arguments").product||this._product||"0";let e=this.getOwnerComponent().getModel("products").getProperty(`/ProductCollection/${this._product}`);this.getView().setModel(new sap.ui.model.json.JSONModel,"detailData");this.getView().getModel("detailData").setProperty("/ProductCollection",[e])},onEditToggleButtonPress:function(){var t=this.getView().byId("ObjectPageLayout"),e=t.getShowFooter();t.setShowFooter(!e)},handleFullScreen:function(){var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/fullScreen");this.oRouter.navTo("detail",{layout:t,product:this._product})},handleExitFullScreen:function(){var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/exitFullScreen");this.oRouter.navTo("detail",{layout:t,product:this._product})},handleClose:function(){var t=this.oModel.getProperty("/actionButtonsInfo/midColumn/closeColumn");this.oRouter.navTo("master",{layout:t})},onExit:function(){this.oRouter.getRoute("master").detachPatternMatched(this._onProductMatched,this);this.oRouter.getRoute("detail").detachPatternMatched(this._onProductMatched,this)}})});
//# sourceMappingURL=Detail.controller.js.map